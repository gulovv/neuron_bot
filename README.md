# ü§ñ NeuronBot ‚Äî Telegram-–±–æ—Ç –Ω–∞ Go —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Kafka –∏ Gemini API

**NeuronBot** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ —è–∑—ã–∫–µ Go, –∫–æ—Ç–æ—Ä—ã–π:
- –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π,
- –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å Kafka,
- –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Google Gemini (Generative AI),
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ Telegram.

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É –∑–∞–ø—É—Å–∫–∞.

---

## ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram Bot API V5
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kafka (producer + consumer)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gemini API (—á–µ—Ä–µ–∑ `genai`)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–∞ —Å–ª–æ–∏: `handlers`, `gemini`, `kafka`, `models`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
neuron_bot/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îú‚îÄ‚îÄ main.go                  # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç: Telegram listener, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Kafka
‚îÇ   ‚îî‚îÄ‚îÄ consumer/
‚îÇ       ‚îî‚îÄ‚îÄ main.go              # Kafka consumer: –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ–±—Ä–∞–±–æ—Ç–∫–∞ Gemini, –æ—Ç–≤–µ—Ç
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ gemini/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gemini.go            # –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ Gemini API
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers.go          # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ commans.go           # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, /start)
‚îÇ   ‚îî‚îÄ‚îÄ kafka/
‚îÇ       ‚îî‚îÄ‚îÄ producer.go          # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Kafka
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ models.go                # –û–±—â–∏–µ —Ç–∏–ø—ã: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–µ—Å—Å–∏–∏ Gemini –∏ –¥—Ä.
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ utils.go                 # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Markdown)
‚îú‚îÄ‚îÄ go.mod                       # –ú–æ–¥—É–ª—å Go –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ go.sum                       # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ Makefile                     # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞, —Å–±–æ—Ä–∫–∏ –∏ —Ç.–ø.
‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```
## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏.

**‚úÖ1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

```
git clone https://github.com/gulovv/neuron_bot.git
cd neuron_bot
```

**‚úÖ2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**

```
go mod tidy
```

**‚úÖ3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:

```
BOT_TOKEN=–≤–∞—à_telegram_bot_token
GEMINI_API_KEY=–≤–∞—à_gemini_api_key
```



## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

**‚úÖ1. –ß–µ—Ä–µ–∑ Makefile (–≤—Å—ë —Å—Ä–∞–∑—É):**
```
make run
```

**‚úÖ2. –í—Ä—É—á–Ω—É—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:**

–¢–µ—Ä–º–∏–Ω–∞–ª (1) ‚Äî Kafka
```
/opt/homebrew/opt/kafka/bin/kafka-server-start /opt/homebrew/etc/kafka/server.properties
```

–¢–µ—Ä–º–∏–Ω–∞–ª (2) ‚Äî bot (Telegram listener)
```
go run cmd/main.go
```

–¢–µ—Ä–º–∏–Ω–∞–ª (3) ‚Äî consumer (Kafka –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)
```
go run cmd/consumer/main.go
```



## üí¨ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã


| –®–∞–≥ | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç                                                                                      |
|-----|---------------------------------------------------------------------------------------------------------------------|
|**1Ô∏è‚É£**| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É –≤ Telegram, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–∏–≤–µ—Ç, —Ä–∞—Å—Å–∫–∞–∂–∏ —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ|
|**2Ô∏è‚É£**| –ë–æ—Ç —Å—Ä–∞–∑—É –æ—Ç–≤–µ—á–∞–µ—Ç: **‚Äú–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∑–∞–ø—Ä–æ—Å‚Ä¶‚Äù**, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∂–¥–∞–ª |
| **3Ô∏è‚É£** | –ë–æ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏—è (chatID, messageID, —Ç–µ–∫—Å—Ç, username)|
| **4Ô∏è‚É£** | –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON –∏ **–æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Kafka** (—Ç–æ–ø–∏–∫ messages)|
| **5Ô∏è‚É£** | **Kafka —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç** —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥–∏ –∏ –∂–¥—ë—Ç, –ø–æ–∫–∞ –µ–≥–æ –∫—Ç–æ-—Ç–æ –ø—Ä–æ—á—Ç—ë—Ç|
| **6Ô∏è‚É£** | –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å ‚Äî **consumer** ‚Äî —á–∏—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ Kafka|
| **7Ô∏è‚É£** | Consumer –ø–µ—Ä–µ–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç –≤ **Gemini API**, –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç|
| **8Ô∏è‚É£** | –û—Ç–≤–µ—Ç –æ—Ç Gemini **—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ä–∞–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** –≤ Telegram|
| **9Ô∏è‚É£** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–∞–∫ –±—É–¥—Ç–æ –±–æ—Ç ¬´–æ–±–¥—É–º–∞–ª¬ª –∏ –∫—Ä–∞—Å–∏–≤–æ –æ—Ç–≤–µ—Ç–∏–ª|




–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

‚úÖ1. –û—Ç–¥–µ–ª–∏—Ç—å –ø—Ä–∏—ë–º –∏ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π (–±–æ—Ç) –æ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–∫–æ–Ω—Å—å—é–º–µ—Ä)

‚úÖ2. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è Telegram

‚úÖ3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å Kafka –∫–∞–∫ —Å–≤—è–∑—É—é—â–µ–µ –∑–≤–µ–Ω–æ

‚úÖ4. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ consumer-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
